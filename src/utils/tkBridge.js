import md5 from"./md5.js";export function Init(e){return new Promise((n,t)=>{let o=uni.requireNativePlugin("TeltlkModule"),i=uni.getAppBaseInfo().appId;o.event({Init:{Url:e},UniappId:i},e=>{n(JSON.parse(e).data)})})};export function Authenticate(e,n,t){return new Promise((o,i)=>{let r=uni.requireNativePlugin("TeltlkModule"),a=uni.getAppBaseInfo().appId;r.event({Authenticate:{appID:e,nonce:n,sign:t},UniappId:a},e=>{o(JSON.parse(e).data)})})};export function IsFriend(e){return new Promise((n,t)=>{let o=uni.requireNativePlugin("TeltlkModule"),i=uni.getAppBaseInfo().appId;o.event({IsFriend:{friendOpenID:e},UniappId:i},e=>{console.log("检查是否为好友",e),n(JSON.parse(e).data)})})};export function AddFriend(e){return new Promise((n,t)=>{let o=uni.requireNativePlugin("TeltlkModule"),i=uni.getAppBaseInfo().appId;o.gotoNativePage({},e=>e),o.event({AddFriend:{friendOpenID:e},UniappId:i},e=>{n(JSON.parse(e).data)})})};export function IsGroupMember(e,n){return new Promise((t,o)=>{let i=uni.requireNativePlugin("TeltlkModule"),r=uni.getAppBaseInfo().appId;i.event({IsGroupMember:{groupID:e,OpenID:n},UniappId:r},e=>{console.log("检查是否加入群聊",e),t(JSON.parse(e).data)})})};export function GetGroupInfo(e){return new Promise((n,t)=>{let o=uni.requireNativePlugin("TeltlkModule"),i=uni.getAppBaseInfo().appId;o.event({GetGroupInfo:{gidList:e},UniappId:i},e=>{console.log("查询群信息:",e),n(JSON.parse(e).data)})})};export function CreateGroup(e,n){return new Promise((t,o)=>{let i=uni.requireNativePlugin("TeltlkModule"),r=uni.getAppBaseInfo().appId;i.event({CreateGroup:{groupName:e,userId:n},UniappId:r},e=>{console.log("创建群聊:",e),t(JSON.parse(e).data)})})};export function JoinGroup(e){return new Promise((n,t)=>{let o=uni.requireNativePlugin("TeltlkModule"),i=uni.getAppBaseInfo().appId;o.gotoNativePage({},e=>e),o.event({JoinGroup:{groupID:e},UniappId:i},e=>{console.log("加入群聊:",e),n(JSON.parse(e).data)})})};export function DoPay(e,n,t,o,i){return new Promise((r,a)=>{let p=uni.requireNativePlugin("TeltlkModule"),u=uni.getAppBaseInfo().appId;p.gotoNativePage({},e=>e),p.event({DoPay:{appID:e,orderID:n,currencyID:t,amount:o,callbackUrl:i},UniappId:u},e=>{console.log("支付:",e),r(JSON.parse(e).data)})})};export function UserSharing(e,n,t,o,i){return new Promise((r,a)=>{let p=uni.requireNativePlugin("TeltlkModule"),u=uni.getAppBaseInfo().appId;p.gotoNativePage({},e=>e),p.event({ForwardOfficial:{title:e,desc:n,snapIcon:t,sourceName:o,sourceIcon:i},UniappId:u},e=>{r(JSON.parse(e).data)})})};export function gotoNativePage(){uni.requireNativePlugin("TeltlkModule").gotoNativePage({},e=>(console.log("返回app:",e),e))};export function CloseOfficial(e){uni.requireNativePlugin("TeltlkModule").event({CloseOfficial:{appID:e}},e=>(console.log("关闭当前小程序:",e),e))};export default{Init:Init,Authenticate:Authenticate,IsFriend:IsFriend,AddFriend:AddFriend,IsGroupMember:IsGroupMember,JoinGroup:JoinGroup,gotoNativePage:gotoNativePage,GetGroupInfo:GetGroupInfo,CreateGroup:CreateGroup,DoPay:DoPay,CloseOfficial:CloseOfficial,UserSharing:UserSharing};